d <- read.table("camp.geno.csv")
dim(d)
fam <- d[,1:6]
fam[1:5,]
fam[,6]
write.table(fam, file="camp.fam", sep="\t", header=F, row.names=F, quote=F)
write.table(fam, file="camp.fam", sep="\t", row.names=F, quote=F)
tped <- d[,7:22]
tped <- t(tped)
dim(tped)
write.table(tped, file="camp.tped", sep="\t", row.names=F, quote=F)
tped <- d[,7:22]
razzler <- function(a,b) {
  l <- vector("list", length(a)+length(b))
  j <- 1
  for (i in 1:length(a)) {
    l[[j]] <- a[i]
    l[[j+1]] <- b[i]
    j <- j+2
  }
  return(unlist(l))
}
makeATped <- function(ped) {
    n <- ncol(ped)
    m <- n-6
    d <- ped[,7:n] # just the genotypes
    superl <- matrix(nrow=(m/2), ncol=(2*nrow(ped)), data=0)
    for (i in 1:(m/2)) {
        superl[i,] <- razzler(ped[,2*i], ped[,2*i+1])
    }
    superl
}
x <- makeATped(ped)
ls()
dim(d)
x <- makeATped(d)
dim(x)
1788*2
rm(tped)
d[1:6,]
d[1:6,7:8]
d[1:6,9:10]
x[2,1:12]
makeATped <- function(ped) {
    n <- ncol(ped)
    d <- ped[,7:n] # just the genotypes
    m <- ncol(d)
    
    superl <- matrix(nrow=(m/2), ncol=(2*nrow(ped)), data=0)
    for (i in 1:(m/2)) {
        superl[i,] <- razzler(d[,2*i], d[,2*i+1])
    }
    superl
}
x <- makeATped(d)
dim(d)
dim(x)
makeATped <- function(ped) {
    n <- ncol(ped)
    d <- ped[,7:n] # just the genotypes
    m <- ncol(d)
    
    superl <- matrix(nrow=(m/2), ncol=(2*nrow(ped)), data=0)
    for (i in 1:(m/2)) {
        superl[i,] <- razzler(d[,(2*i-1)], d[,2*i])
    }
    superl
}
x <- makeATped(d)
dim(x)
x[2,1:12]
d[1:6,9:10]
write.table(x, file="camp.tped", row.names=F, sep="\t", quote=F)
q()
source("razzler.R")
ls()
rm(d, fam, x)
d <- read.table("camp.trio.ped")
dim(d)
tped <- makeATped(d)
dim(tped)
write.table(tped, file="camp.tped", quote=F, row.names=F, col.names=F, sep="\t")
fam <- d[,1:6]
write.table(fam, file="camp.fam", quote=F, row.names=F, col.names=F, sep="\t")
ls()
q()
